var Rum=new function(){var asyncParam="",validationTimeout=10,validationReady=!0;this.init=function(e,t){asyncParam=e,validationTimeout=t},this.id=function(e){return document.getElementById(e)},this.flash=function(e,t,n){if(n||(n=3e3),this.id("messages")){var a=document.createElement("li"),i=document.createTextNode(e);a.setAttribute("class",t),a.appendChild(i),this.id("messages").appendChild(a),setTimeout(function(){fadeOut(a)},n)}},this.unflashAll=function(){if(this.id("messages")){var e=this.id("messages").childNodes;for(i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i])}},this.forward=function(e){location.href=e},this.getParams=function(e){var t="",n=e.getElementsByTagName("input"),a=e.getElementsByTagName("select"),i=e.getElementsByTagName("textarea");for(x=0;x<n.length;x++)"button"!=n[x].getAttribute("type")&&"submit"!=n[x].getAttribute("type")&&"image"!=n[x].getAttribute("type")&&("checkbox"===n[x].getAttribute("type")?n[x].checked&&(t&&(t+="&"),t=t+n[x].getAttribute("name")+"="+n[x].value):(t&&(t+="&"),t=t+n[x].getAttribute("name")+"="+n[x].value));for(x=0;x<a.length;x++)t&&(t+="&"),t=t+a[x].getAttribute("name")+"="+a[x].value;for(x=0;x<i.length;x++)t&&(t+="&"),t=t+i[x].getAttribute("name")+"="+i[x].value;return t},this.sendAsync=function(e,t,n){http_request=this.createXMLHttpRequest(),this.sendAsyncWithCallback(http_request,e,t,n)},this.sendSync=function(e,t,n){if(null==n&&(n="GET"),null==t&&(t=""),"GET"==n.toUpperCase()&&t)e=e.indexOf("?")>-1?e+"&"+t:e+"?"+t,t="",location.href=e;else{t=t.split("&");var a=document.createElement("form");a.action=e,a.method="POST",a.style.display="none";for(var i=0;i<t.length;i++){param=t[i].split("=");var s=document.createElement("input");s.setAttribute("name",param[0]),s.setAttribute("value",param[1]),a.appendChild(s)}document.body.appendChild(a),a.submit()}},this.submit=function(e){var t=evalFormResponse;return createFrame(e,t),!0},this.sendAsyncWithCallback=function(http_request,url,params,method,callback){null==method&&(method="GET"),params?params+="&"+asyncParam+"=1":params="?"+asyncParam+"=1","GET"==method.toUpperCase()&&params&&(url=url.indexOf("?")>-1?url+"&"+params:url+"?"+params,params=""),null!=callback&&eval("http_request.onreadystatechange="+callback),http_request.open(method,url,!0),http_request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),http_request.send(params)},this.evalAsync=function(e,t,n){http_request=this.createXMLHttpRequest(),null===http_request&&console.log("browser does not support HTTP Request");var a=function(){evalHttpResponse(http_request)};this.sendAsyncWithCallback(http_request,e,t,n,a)},this.documentLoaded=function(e,t){var n=document.getElementById(t)?document.getElementById(t):"",a=null;if(n.contentDocument)a=n.contentDocument;else{if(!n.contentWindow)return;a=n.contentWindow.document}"about:blank"!=a.location.href&&n.completeCallback(e,a.body.textContent)},this.assert=function(e,t){this.id(e)&&(-1===this.id(e).className.indexOf(" invalid")&&(this.id(e).className=this.id(e).className+" invalid"),setText(this.id(e+"__err"),t)),this.reset()},this.clear=function(e){this.id(e)&&(this.id(e+"__err")&&(this.id(e+"__err").style.display="none"),this.id(e).className=this.id(e).className.replace(" invalid","")),this.reset()},this.reset=function(){validationReady=!1,window.setTimeout("setValidationReady()",validationTimeout)},this.isReady=function(e){return hasText(this.id(e))?validationReady:!1},this.createXMLHttpRequest=function(){if(window.XMLHttpRequest)http_request=new XMLHttpRequest,http_request.overrideMimeType&&http_request.overrideMimeType("text/html");else if(window.ActiveXObject)try{http_request=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{http_request=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return http_request?http_request:(alert("Cannot create XMLHTTP instance"),!1)},setValidationReady=function(){validationReady=!0},getHttpResponse=function(e){if(e&&4==e.readyState){if(200==e.status)return response=e.responseText;throw"Problem retrieving XML data"}},evalHttpResponse=function(http_request){eval(getHttpResponse(http_request))},evalFormResponse=function(formElement,response){eval(response),formElement.removeChild(Rum.id(formElement.getAttribute("id")+"__async")),formElement.setAttribute("target","")},createFrame=function(e,t){var n="f"+Math.floor(99999*Math.random()),a=document.createElement("DIV"),i=document.getElementById(e.getAttribute("id")+"__async_postback");i&&i.parentNode.removeChild(i),a.id=e.getAttribute("id")+"__async_postback",a.innerHTML='<iframe style="display:none" src="about:blank" id="'+n+'" name="'+n+'" onload="Rum.documentLoaded(Rum.id(\''+e.getAttribute("id")+"'), '"+n+"'); return true;\"></iframe>",document.body.appendChild(a);var s=document.getElementById(n);s.completeCallback=t;var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",asyncParam),r.setAttribute("value","1"),r.setAttribute("id",e.getAttribute("id")+"__async"),e.appendChild(r),e.setAttribute("target",n)},setText=function(e,t){if(e){if(e.hasChildNodes())for(;e.childNodes.length>=1;)e.removeChild(e.firstChild);var n=document.createElement("span");t.length>0?(n.appendChild(document.createTextNode(t)),e.style.display="block"):(n.appendChild(document.createTextNode("")),e.style.display="none"),e.appendChild(n)}},hasText=function(e){return e&&e.hasChildNodes()&&e.childNodes.length>=1&&e.childNodes[0].textContent.length>0?!0:null},addListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},setOpacity=function(e,t){0===t?e.parentNode.removeChild(e):(e.style.opacity=t,e.style.MozOpacity=t,e.style.KhtmlOpacity=t,e.style.filter="alpha(opacity="+100*t+");")},createTimeoutHandler=function(e,t){return function(){setOpacity(e,t)}},fadeOut=function(e,t){var n=20;t||(t=1e3);for(var a=1;n>=a;a++)setTimeout(createTimeoutHandler(e,1-a/n),a/n*t)},this.gridViewSelectAll=function(e){for(var t=document.getElementById(e),n=document.getElementById(e+"__selectall"),a=t.getElementsByTagName("input"),i=0;i<a.length;i++)a[i].className==e+"__checkbox"&&(a[i].checked=n.checked)},this.gridViewUnSelectAll=function(e){for(var t=document.getElementById(e).getElementsByTagName("tr"),n=0;n<t.length;n++)"selected row"==t[n].className&&(t[n].className="row"),"selected row_alt"==t[n].className&&(t[n].className="row_alt")}};